<!doctype html>
<html lang="ru">
<head>
	<meta http-equiv=Content-Type content="text/html; charset=utf8">
	<title>HabraDarkAge (стили)&mdash;для Habrahabr.ru</title>
	<link rel="stylesheet" href="../main.css">
	<link rel="stylesheet" href="../viewImage.css">
	<script src="../viewImage.js"></script>
</head>
<body class="forkGithub"><div class=wraprre style="line-height: 1.4; max-width: 900px">

<div class="b-pageTop">
	<div class="" style="float: right;">last update 2015-01-22</div>
	<a class="forkGithub" href="https://github.com/spmbt/haPages/tree/gh-pages" title="Участвовать в разработке на Github.com"></a>
	<h1 class="forkGithub"><a href="https://github.com/spmbt/haPages/tree/gh-pages" title="Участвовать в разработке на Github.com">haPages bay</a></h1>
	<div class="def">Разработки скриптописателя <a href="https://greasyfork.org/ru/users/2323-spmbt" title="скрипты на Greasyfork.org">spmbt</a></div>
</div>

	<div style="float: right"><a class="install-button" target="_blank" href="http://spmbt.github.io/haPages/userscript/habraDarkAge/habraDarkAge.user.css">установить стили HabraDarkAge в браузер<br> <span style="font-weight:normal">(требуется расширение Stylish)</span></a></div>

	<a href="https://userstyles.org/styles/101697/" title="описание на Userstyles.org"><h2>HabraDarkAge: тёмная тема</h2></a>
	<div class="b-h2Block">
		<h3>Юзерстили для модификации вида сайта <a href="http://habrahabr.ru">Habrahabr</a></h3>

	<div class="b-h3Block content">
		<br>
		Особенности стилей:
		<div class="descr">&#9679; <b>тёмная расцветка дизайна</b>, без отхода от дизайна блоков оригинального сайта, на основе стилей "New Habr: Night Mode", за некоторыми исключениями, унаследованными из ZenComment (описаны ниже);</div>
		<div class="descr">&#9679; <b>приглушенные цвета картинок и блоков</b> сайдбара, полностью проявляющиеся при наведении мыши;</div>
		<div class="descr">&#9679; <b>Кнопки левой панели</b> совмещены с навигацией страниц (для страниц-лент) и видны постоянно слева;</div>
		<div class="descr">&#9679; <b>Поддержка страниц</b> "<a href="href://m.habr.ru">мобильной версии</a>";</div>
		<br>
		<i>Кроме тёмной расцветки дизайна, имеет некоторые свойства, унаследованные от ZenComment, отличные от дизайна оригинального сайта:</i><br>
		<div class="descr">&#9679; <b>незаметное</b> Geektimes-меню: показ по наведению, сокращение занимаемой высоты до 1 пикс.;</div>
		<div class="descr">&#9679; <b>разблокировано изменение размера полей ввода</b> (меняется вручную);</div>
		<div class="descr">&#9679; смягчение последствий двойных переносов строк (насколько возможно в стилях);</div>
		<div class="descr">&#9679; небольшое <b>уменьшение размеров</b> заголовков;</div>
		<div class="descr">&#9679; <b>контрастный разделитель</b> между статьёй и ответами;</div>
		<div class="descr">&#9679; <b>приглушенные аватары</b> в ответах, расут вдвое по наведению на заголовок;</div>
		<div class="descr">&#9679; <b>деакцентирование кнопок</b> "Пожаловаться";</div>
		<div class="descr">&#9679; <b>кнопка "ответ" скрыта</b> и появляется по наведению на блок ответа;</div>
		<div class="descr">&#9679; <b>фильтрация нежелательных блоков</b> в сайдбаре и подобных местах;</div>
		<div class="descr">&#9679; <b>модификация 3 нижних ссылок</b> до равномерного заполнения пространства текстами ссылок;</div>
		<div class="descr">&#9679; <b>компактный футер</b>, на 3 строки по высоте;</div>
		<div class="descr">&#9679; <b>исправление ошибок сайта</b> в форматировании и отображении элементов страниц: ряд ошибок, случайно возникших и с неизвестным временем официального исправления, которые проще исправить в стилях;</div>
		<br>
		<div class="descr">&#9679; ... и ряд незначительных модификаций стилей.</div>
	</div>

	<div class="b-h3Block">
		<h3>На каких сайтах работают стили</h3>
	</div>
	<div class="b-h3Block">
		<div class="descr">&#9679; <a href="http://habrahabr.ru">Habrahabr</a>,  <a href="http://m.habrahabr.ru">m.Habr</a> (облегчённая версия для мобильных браузеров),</div>
		<div class="descr">&#9679; <a href="http://habrahabr.ru">Geektimes</a> (частичный официальный клон по новинкам техники, науке, интересным фактам),</div>
		<div class="descr">&#9679; <a href="http://megamozg.ru">Megamozg</a> (частичный официальный клон для менеджерских, финансовых и организаторских статей),</div>
		<div class="descr">&#9679; <a href="http://tmfeed.ru">TMfeed</a> (объединённая лента, без авторизации, по 3 вышеперечисленным сайтам),</div>
		<div class="descr">&#9679; <a href="http://webcache.googleusercontent.com/search?q=cache:http://habrahabr.ru/">кеш Гугла</a> (для просмотра недавно удалённых статей),</div>
		<div class="descr">&#9679; <a href="http://h.ru">локальный сайт</a> под именем h.ru или haru/ (для разработчиков или для просмотра копий страниц).</div>
		<br>
		<div class="descr"><b>Использование кеша Гугла</b>: если статью недавно (до 2 недель назад) удалили с сайта - идём на <u>http://webcache.googleusercontent.com/search?q=cache:&lt;URL_этой_статьи></u>, и видим копию статьи, которую успел сохранить Гугл. (Скрипт <a href="http://spmbt.github.io/haPages/doc/habrAjax/">HabrAjax</a> сам подсказывает ссылку на странице "отбоя", но пока не совместим с "тёмной темой"). Видим оформление её с юзерстилями, если они подключены к браузеру. (Переключать стили достаточно легко, и это не требует перезагрузки страниц, благодаря плагину Scriptish, в котором это всё выполняется.)</div>
		<div class="descr"><b>Локальный сайт</b>: будет полезен для оффлайн-чтения страниц сайта (или для тестирования при разработке юзерскриптов/стилей). На своём компьютере для его просмотра нужно установить веб-сервер (например, Apache) и создать в нём виртуальный хост под именем <b>h.ru</b> или <b>haru/</b>, и в его образ класть сохранённые через браузер страницы (которые с папками *_files/ при них). Для этого домена будут работать ZenComment, HabrAjax и HabraDarkAge (на выбор). Одна особенность: если страницы сохраняются (Ctrl+S) через Firefox или Chrome, перед сохранением лучше отключить скрипты HabrAjax и стили ZenComment, чтобы не сохранились их последствия. Старая Опера сохраняет страницы "чисто" (без артефактов) всегда - с подключением стилей и скриптов или без подключения. И есть проблемы с показом веб-шрифтов - браузер их не сохраняет в копии страницы, а они имеются в главном меню. (Если поправить стили и вытащить шрифты из веба - показывать будут. <i>TODO nodeJS-скрипт для "доводки" копий и выделения общих скриптов и стилей из сохранённых страниц или полный "сейвер" страниц в формат JSON или HTML.</i>)</div>
	</div>

	<div class="b-h3Block">
		<h3>Поддержка браузерами</h3>
	</div>
	<div class="b-h3Block content">
		<div class="descr">&#9679; Firefox 30+ (возможно, немного более ранние - тоже).</div>
		<div class="descr">&#9679; Chrome 35+.</div>
		<div class="descr">Не исключена работа с Safari/Mac (не тестировалась).</div>
		<div class="descr">Для Opera 12 могут быть настроены (приветствуются пулл-реквесты).</div>
	</div>

	<div class="b-h3Block">
		<h3>Вид и функции</h3>
	</div>
	<div class="b-h3Block">
		<div class="descr">
			<table>
				<tr><td width=30%><div class="descr">&#9679; Главная, "<a href="habrDarkAgeTop.png">моя лента", "лучшие</a>" или другой вид списков (результаты поиска, избранное, песочница)</div></td>
					<td width=30%><div class="descr">&#9679; <a href=habrDarkAgeFeed.png>блок сайдбара</a> (при наведении)</div></td>
					<td><div class="descr">&#9679; <a href="habrDarkAgeArticle3.png">статья</a></div></td>
				</tr>
				<tr>
					<td><div class="descr">&#9679; <a href="habrDarkAgeCreateArticle.png">Подготовка статьи</a></div></td>
					<td><div class="descr">&#9679; <a href="https://df6a.https.cdn.softlayer.net/80DF6A/static.userstyles.org/style_screenshots/101697_additional_11143.png">Подсветка кнопки</a></div></td>
					<td><div class="descr">&#9679; <a href="habrDarkAgeComments2.png">комментарии</a></div></td>
				</tr>
				<tr>
					<td><div class="descr">&#9679; <a href="http://habrastorage.org/files/574/bc9/a47/574bc9a471ff4fbf841c761a951b3718.png">список авторских или найденных комментариев</a> (на GeekTimes, + увеличенный аватар при наведении мыши)</div></td>
					<td><div class="descr">&#9679; <a href="http://habrastorage.org/files/5e4/79e/71a/5e479e71a2a74b0186320ece787ad003.png">Настройки аккаунта</a></div></td>
					<td><div class="descr">&#9679; </div></td>
				</tr>
				<tr>
					<td><div class="descr">&#9679; <a href="http://habrastorage.org/files/403/ad4/a9b/403ad4a9bd9441b48340972db11ae66b.png">Минимальная высота</a> и кнопки навигации</div></td>
					<td><div class="descr">&#9679; <a href="http://habrastorage.org/files/359/ea2/901/359ea29018784d63a182deb166d59890.png">Кнопки меню</a> при минимальной высоте</div></td>
					<td><div class="descr">&#9679; <a href="http://habrastorage.org/files/86f/977/0c7/86f9770c7bf245a7baa390600eda170a.png">Под-меню</a> при минимальной высоте</div></td>
				</tr>
				<tr>
					<td><div class="descr">&#9679; <a href="http://habrastorage.org/files/ada/f9d/bdf/adaf9dbdf8db4339a406aa4a026fcc66.png">Кнопки меню</a> при не самой малой высоте окна</div></td>
					<td><div class="descr">&#9679; <a href="http://habrastorage.org/files/4b0/f05/ec0/4b0f05ec00f4485c9f087a2950f77f92.jpg">Навигация ленты</a> при достаточно большой  высоте окна</div></td>
					<td><div class="descr">&#9679; <a href="http://habrastorage.org/files/638/157/1be/6381571be5a5492b8cd3d2aed93dc99f.png">Футер и поле ввода</a></div></td>
				</tr>
				<tr>
					<td><div class="descr">&#9679; <a href="http://habrastorage.org/files/934/1e3/172/9341e317267747538d0bbbbd774e0ad9.png">мобильная версия", статья</a></div></td>
					<td><div class="descr">&#9679; <a href="http://habrastorage.org/files/afa/348/e99/afa348e99d0440329867b5430a93d9f9.png">мобильная версия", низ статьи</a></div></td>
					<td><div class="descr">&#9679; <a href="http://habrastorage.org/files/f84/4b4/b2e/f844b4b2ec784c3a86620aaf53e611f2.png">мобильная версия", сайдбар</a></div></td>
				</tr>
				<tr>
					<td><div class="descr">&#9679; <a href="http://habrastorage.org/files/440/25d/8c5/44025d8c52d94573acd96b425708b707.png">мобильная версия", комментарии</a></div></td>
					<td></td>
				</tr>
				<tr>
					<td><div class="descr">&#9679; <a href="habraDarkAgeCommentsBgColors.png">подсветка заголовков комментариев</a> (новые, автор, автор-новые, свои)</div></td>
					<td><div class="descr">&#9679; <a href="habrDarkAgeSearchLowHeight.png">Результаты поиска</a> + малая высота окна + Geektimes-меню</div></td>
					<td><div class="descr">&#9679; <a href="habrDarkAgeCommentInput.png">Кнопки над полем ввода</a>, ппревью</div></td>
				</tr>
				<tr>
					<td><div class="descr">&#9679; <a href="habrDarkagePermanentSubmenu.png">постоянные подменю</a> при ширине более 1520px и высоте более 705</div></td>
					<td><div class="descr">&#9679; <a href="habraDarkAge20150122-megamozgLogo.png">лого на сайте megamozg.ru</a></div></td>
					<td><div class="descr">&#9679; <a href="habrDarkAge20150215-TmFeed.png">лента на TMFeed.ru</a></div></td>
				</tr>
				<tr>
					<td><div class="descr">&#9679; <a href="habrDarkAge20150215-oneLineMessage.png">однострочная новость</a></div></td>
					<td></td>
					<td></td>
				</tr>
			</table>
		</div>
	</div>

	<div class="b-h3Block">
		<h3>Причины появления HabraDarkAge и история развития</h3>
	</div>
	<div class="b-h3Block">
		<div class="descr">
			Однажды возник вопрос (октябрь 2014 г), может ли HabrAjax поддерживать имеющиеся тёмные юзерстили совместно с ZenComment? Очевидно, что что-то конфликтовало достаточно сильно, и пользоваться совместно было нельзя. Следующая идея: не сделать ли переключатель расцветки стилей в скрипте, а заодно и в Less-исходниках стилей (в будущем)? Чтобы не делать лишней работы полезно было воспользоваться наработками одного из стилей. Были выбраны "<a href="https://userstyles.org/styles/101604/">New Habr: Night Mode</a>".</div>
		<div class="descr">;Но возникла группа проблем: 1) стили не развивались уже 2 месяца и сайт ушёл немного вперёд, 2) некоторые стили и элементы вообще были недоработтаны, хотя их было немного 3) были нерешённые баги оригинального сайта.</div>
		<div class="descr">Лучшим способом решения показалось - довести исходные стили до рабочего и эстетичного состояния, добавить кое-что из ZenComment, решить некоторые проблемы сайта, и получить таким образом сначала общеупотребительные стили, никак не связанные и не совместимые пока с ZenComment и HabrAjax.</div>
		<div class="descr">Получится 2 варианта стилей в сравнении которых было бы видно, чего не хватает для объединения - появления концепции простого переключения стилей в настройках скрипта. Видны и недостатки HabrAjax, в котором много светлых стилей просто зашиты в код и не отключаются.</div>
		<div class="descr">Тёмные стили получились, хотя на момент создания не решили исходных вопросов.</div>
		</div>

	<div class="b-h3Block">
		<h3>Новинки версий</h3>
	</div>
	<div class="b-h3Block">
		<div class="descr"><b>431</b> (2015-09-10) - оформление нового формата подписей к статьям - имеется не менее 4 конфигураций оформления автора, перевода и статьи компании (к подписи добавилось описание блога компании);</div>
		<div class="descr">
			<table>
				<tr><td width=30%><div class="descr">&#9679; Главная, "<a href="20150911-darkAge-articleSign1.png">Автор с реальным</a>" именем и ссылкой</div></td>
					<td width=30%><div class="descr">&#9679; <a href=20150911-darkAge-articleSign2.png>Обычное описание автора</a> (и аватар при наведении)</div></td>
					<td><div class="descr">&#9679; <a href="20150911-darkAge-articleSign3.png">Подпись компании</a></div></td>
				</tr>
				<tr>
					<td><div class="descr">&#9679; <a href="20150911-darkAge-articleSign4.png">Описание частного автора</a> как компании</div></td>
					<td><div class="descr">&#9679; <a href="20150911-darkAge-articleSign5.png">Подписи аннотаций в списках</a> и увеличение аватара при наведении мыши</div></td>
				</tr>
			</table>
		</div>
		<div class="descr"><b>428</b> (2015-02-15) - расширение на сайт TMfeed.ru, формат однострочной новости: сообщение с классом CSS "post_shortwrite"; доработки ссылок посещённых страниц;</div>
		<div class="descr"><b>426</b> (2015-01-22) - расширение на сайт megamozg.ru, включая новости с него в сайдбаре и лого;</div>
		<div class="descr"><b>423</b> (2014-11-22) - тёмные кнопки над полем ввода; цвет элемента HR; картинка "ключа" (ред. своей статьи) - темнее и без багов; постоянные подменю при ширине более 1520px;</div>
		<div class="descr"><b>4.20</b> (2014-11-06) - иная подсветка выделения текстов; зелёные хабы, теги, даты; открыт сайдбар компаний; приглушенные заголовки новых комментов, серый разделитель комментов и статьи; фон и текст "html-теги";</div>
		<div class="descr"><b>4.18</b> (2014-10-29) - расширена доступность сайтов (https); namespace на основе общего регекспа (6 сайтов, 2 исключения), исправление бага сайта "менее 530px высоты";</div>
		<div class="descr"><b>4.16</b> (2014-10-26) - доработка исходных стилей с учётом Geektimes и текущего состояния сайта;</div>
	</div>

	<div class="b-h3Block">
		<h3>Публикации</h3>
	</div>
	<div class="b-h3Block content">
		<div class="descr">&#9679; <a href="https://userstyles.org/styles/101697/habradarkage">Хостинг HabraDarkAge</a> на userstyles.org;</div>
		<div class="descr">&#9679; <a href="http://habrahabr.ru/post/242189/">Наступают тёмные времена: тема HabraDarkAge</a> на Habrahabr;</div>
		<div class="descr">&#9679; <a href="habraDarkAgeArticle.htm">Наступают тёмные времена</a> (предварительная версия статьи) (введение в HabraDarkAge);</div>
		<div class="descr">&#9679; <a href="https://github.com/WaveCutz/habrahabr.ru_night-mode/issues/21">Модификация и доработки Night mode</a> ("issue request "о переносе кода в исходный репо);</div>
	</div>
		<div class="b-h3Block">
			<h3>Лицензия / License</h3>
		</div>
		<div class="b-h3Block">
			&nbsp; &nbsp; Код распространяется под <a href="http://creativecommons.org/licenses/by-nc/4.0/">лицензией CC-BY-NC v.4.0</a>, <img src="https://df6a.https.cdn.softlayer.net/80DF6A/static.userstyles.org/assets/cc/cc-by-nc-a707cb61cd0b45ffa849cf978c7a1ec9.png">, <a href="http://creativecommons.org/licenses/by-nc/4.0/deed.ru">на русском</a>, <a href="http://en.wikipedia.org/wiki/Creative_Commons_license">wiki</a>. Она призвана поддерживать распространение стилей показа интерфейсов. Основные возможности и следствия из лицензии:<br>
		* не ограничивает копирование и распространение в любом формате при условии <i>некоммерческого</i> использования;<br>
		* при копировании и модификации требуется указание авторства;<br>
		* дает права на:<br>
		.. пересборку, модификацию и использование в иных некоммерческих разработках;<br>
		* запрещает пользователю ограничивать эти права, пока для данного кода существуют условия лицензии<br>
		Подробнее все права и требования приведены в тексте лицензии. <a href="http://www.opennet.ru/opennews/art.shtml?num=38521">О версии 4.0</a>. <a href="http://creativecommons.ru/sites/creativecommons.ru/files/docs/attribution_3.0_ss_by-nc_rus.pdf">PDF v.3.0</a>
		</div>
	</div>
</div>
</div></body></html>
